{"ast":null,"code":"var _jsxFileName = \"D:\\\\BE COMP SS\\\\Final Year Project\\\\5\\\\land2\\\\land2\\\\client\\\\src\\\\views\\\\sellerProfile.js\";\nimport { LoadingContainer } from '@drizzle/react-components';\nimport { DrizzleProvider } from '@drizzle/react-plugin';\nimport React, { Component } from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { Button, Card, CardBody, CardFooter, CardHeader, Col, Form, FormGroup, Input, Row } from \"reactstrap\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport Land from \"../artifacts/Land.json\";\nimport getWeb3 from \"../getWeb3\";\nimport '../index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst drizzleOptions = {\n  contracts: [Land]\n}; // var buyers = 0;\n// var sellers = 0;\n\nvar seller;\nvar sellerTable = [];\nvar verification = [];\n\nclass sellerProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      //For refreshing page only once\n      if (!window.location.hash) {\n        window.location = window.location + '#loaded';\n        window.location.reload();\n      }\n\n      try {\n        //Get network provider and web3 instance\n        const web3 = await getWeb3();\n        const accounts = await web3.eth.getAccounts();\n        const currentAddress = await web3.currentProvider.selectedAddress;\n        console.log(currentAddress);\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = Land.networks[networkId];\n        const instance = new web3.eth.Contract(Land.abi, deployedNetwork && deployedNetwork.address);\n        this.setState({\n          LandInstance: instance,\n          web3: web3,\n          account: accounts[0]\n        });\n        var seller_verify = await this.state.LandInstance.methods.isVerified(currentAddress).call();\n        console.log(seller_verify);\n        this.setState({\n          verified: seller_verify\n        });\n        var not_verify = await this.state.LandInstance.methods.isRejected(currentAddress).call();\n        console.log(not_verify);\n\n        if (seller_verify) {\n          verification.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"verified\",\n            children: [\"Verified \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-user-check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 27\n          }, this));\n        } else if (not_verify) {\n          verification.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"rejected\",\n            children: [\"Rejected \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-user-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 27\n          }, this));\n        } else {\n          verification.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"unknown\",\n            children: [\"Not Yet Verified \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-user-cog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 27\n          }, this));\n        }\n\n        seller = await this.state.LandInstance.methods.getSellerDetails(currentAddress).call();\n        console.log(seller);\n        console.log(seller[0]); //sellerTable.push(<div><p>Name: {seller[0]}</p><p>Age: {seller[1]}</p><p>ID Number: {seller[2]}</p><p>KRA Number: {seller[3]}</p><p>Owned Lands: {seller[4]}</p></div>);\n\n        sellerTable.push( /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Your Wallet Address: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: currentAddress\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: seller[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: seller[1]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"ID Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: seller[2]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"KRA Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: seller[3]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Owned Lands\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: seller[4]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Your ID Document\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"post-meta\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    class: \"timestamp\",\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: `https://ipfs.io/ipfs/${seller[5]}`,\n                      target: \"_blank\",\n                      rel: \"noreferrer\",\n                      children: \"Here\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 63\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true));\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n        console.error(error);\n      }\n    };\n\n    this.state = {\n      LandInstance: undefined,\n      account: null,\n      web3: null,\n      buyers: 0,\n      sellers: 0,\n      verified: false\n    };\n  }\n\n  render() {\n    if (!this.state.web3) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(DrizzleProvider, {\n        options: drizzleOptions,\n        children: /*#__PURE__*/_jsxDEV(LoadingContainer, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"8\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"title\",\n                    children: \"Seller Profile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"title\",\n                    children: verification\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n                  children: /*#__PURE__*/_jsxDEV(Form, {\n                    children: [sellerTable, /*#__PURE__*/_jsxDEV(Button, {\n                      href: \"/Seller/updateSeller\",\n                      className: \"btn-fill\",\n                      disabled: !this.state.verified,\n                      color: \"primary\",\n                      children: \"Edit Profile\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(CardFooter, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default sellerProfile;","map":{"version":3,"sources":["D:/BE COMP SS/Final Year Project/5/land2/land2/client/src/views/sellerProfile.js"],"names":["LoadingContainer","DrizzleProvider","React","Component","Spinner","Button","Card","CardBody","CardFooter","CardHeader","Col","Form","FormGroup","Input","Row","Land","getWeb3","drizzleOptions","contracts","seller","sellerTable","verification","sellerProfile","constructor","props","componentDidMount","window","location","hash","reload","web3","accounts","eth","getAccounts","currentAddress","currentProvider","selectedAddress","console","log","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","setState","LandInstance","account","seller_verify","state","methods","isVerified","call","verified","not_verify","isRejected","push","getSellerDetails","error","alert","undefined","buyers","sellers","render"],"mappings":"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","sourcesContent":["import {\r\n  LoadingContainer\r\n} from '@drizzle/react-components';\r\nimport { DrizzleProvider } from '@drizzle/react-plugin';\r\nimport React, { Component } from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport {\r\n  Button,\r\n  Card, CardBody,\r\n  CardFooter, CardHeader, Col, Form, FormGroup, Input,\r\n  Row\r\n} from \"reactstrap\";\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport Land from \"../artifacts/Land.json\";\r\nimport getWeb3 from \"../getWeb3\";\r\nimport '../index.css';\r\n\r\n\r\n\r\nconst drizzleOptions = {\r\n  contracts: [Land]\r\n}\r\n\r\n// var buyers = 0;\r\n// var sellers = 0;\r\nvar seller;\r\nvar sellerTable = [];\r\nvar verification = [];\r\n\r\nclass sellerProfile extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      LandInstance: undefined,\r\n      account: null,\r\n      web3: null,\r\n      buyers: 0,\r\n      sellers: 0,\r\n      verified: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    //For refreshing page only once\r\n    if (!window.location.hash) {\r\n      window.location = window.location + '#loaded';\r\n      window.location.reload();\r\n    }\r\n\r\n    try {\r\n      //Get network provider and web3 instance\r\n      const web3 = await getWeb3();\r\n\r\n      const accounts = await web3.eth.getAccounts();\r\n\r\n      const currentAddress = await web3.currentProvider.selectedAddress;\r\n      console.log(currentAddress);\r\n      const networkId = await web3.eth.net.getId();\r\n      const deployedNetwork = Land.networks[networkId];\r\n      const instance = new web3.eth.Contract(\r\n        Land.abi,\r\n        deployedNetwork && deployedNetwork.address,\r\n      );\r\n\r\n      this.setState({ LandInstance: instance, web3: web3, account: accounts[0] });\r\n\r\n      var seller_verify = await this.state.LandInstance.methods.isVerified(currentAddress).call();\r\n      console.log(seller_verify);\r\n      this.setState({ verified: seller_verify })\r\n      var not_verify = await this.state.LandInstance.methods.isRejected(currentAddress).call();\r\n      console.log(not_verify);\r\n      if (seller_verify) {\r\n        verification.push(<p id=\"verified\">Verified <i class=\"fas fa-user-check\"></i></p>);\r\n      } else if (not_verify) {\r\n        verification.push(<p id=\"rejected\">Rejected <i class=\"fas fa-user-times\"></i></p>);\r\n      } else {\r\n        verification.push(<p id=\"unknown\">Not Yet Verified <i class=\"fas fa-user-cog\"></i></p>);\r\n      }\r\n\r\n      seller = await this.state.LandInstance.methods.getSellerDetails(currentAddress).call();\r\n      console.log(seller);\r\n      console.log(seller[0]);\r\n\r\n      //sellerTable.push(<div><p>Name: {seller[0]}</p><p>Age: {seller[1]}</p><p>ID Number: {seller[2]}</p><p>KRA Number: {seller[3]}</p><p>Owned Lands: {seller[4]}</p></div>);\r\n      sellerTable.push(<>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Your Wallet Address: </label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={currentAddress}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Name</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={seller[0]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Age</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={seller[1]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>ID Number</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={seller[2]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>KRA Number</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={seller[3]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Owned Lands</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={seller[4]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Your ID Document</label>\r\n              <div class=\"post-meta\"><span class=\"timestamp\"> <a href={`https://ipfs.io/ipfs/${seller[5]}`} target=\"_blank\" rel=\"noreferrer\">Here</a></span></div>\r\n            </FormGroup>\r\n          </Col>\r\n        </Row></>);\r\n\r\n    } catch (error) {\r\n      // Catch any errors for any of the above operations.\r\n      alert(\r\n        `Failed to load web3, accounts, or contract. Check console for details.`,\r\n      );\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.web3) {\r\n      return (\r\n        <div>\r\n          <div>\r\n            <h1>\r\n              <Spinner animation=\"border\" variant=\"primary\" />\r\n            </h1>\r\n          </div>\r\n\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <DrizzleProvider options={drizzleOptions}>\r\n          <LoadingContainer>\r\n\r\n            {/* <div >\r\n                    <h5>Seller Profile</h5>\r\n                \r\n                        {sellerTable}\r\n        \r\n                </div> */}\r\n            <Row>\r\n              <Col md=\"8\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <h5 className=\"title\">Seller Profile</h5>\r\n                    <h5 className=\"title\">{verification}</h5>\r\n\r\n                  </CardHeader>\r\n                  <CardBody>\r\n                    <Form>\r\n                      {sellerTable}\r\n                      <Button href=\"/Seller/updateSeller\" className=\"btn-fill\" disabled={!this.state.verified} color=\"primary\">\r\n                        Edit Profile\r\n                      </Button>\r\n                    </Form>\r\n                  </CardBody>\r\n                  <CardFooter>\r\n\r\n                  </CardFooter>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </LoadingContainer>\r\n        </DrizzleProvider>\r\n      </div>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nexport default sellerProfile;"]},"metadata":{},"sourceType":"module"}