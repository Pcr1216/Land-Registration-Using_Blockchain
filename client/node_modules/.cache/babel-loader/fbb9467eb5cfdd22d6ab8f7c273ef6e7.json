{"ast":null,"code":"var _jsxFileName = \"D:\\\\BE COMP SS\\\\Final Year Project\\\\5\\\\land2\\\\land2\\\\client\\\\src\\\\views\\\\buyerProfile.js\";\nimport { LoadingContainer } from '@drizzle/react-components';\nimport { DrizzleProvider } from '@drizzle/react-plugin';\nimport React, { Component } from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { Button, Card, CardBody, CardFooter, CardHeader, Col, Form, FormGroup, Input, Row } from \"reactstrap\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport Land from \"../artifacts/Land.json\";\nimport getWeb3 from \"../getWeb3\";\nimport \"../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst drizzleOptions = {\n  contracts: [Land]\n};\nvar buyer;\nvar buyerTable = [];\nvar verification = [];\n\nclass buyerProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      //For refreshing page only once\n      if (!window.location.hash) {\n        window.location = window.location + '#loaded';\n        window.location.reload();\n      }\n\n      try {\n        //Get network provider and web3 instance\n        const web3 = await getWeb3();\n        const accounts = await web3.eth.getAccounts();\n        const currentAddress = await web3.currentProvider.selectedAddress;\n        console.log(currentAddress);\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = Land.networks[networkId];\n        const instance = new web3.eth.Contract(Land.abi, deployedNetwork && deployedNetwork.address);\n        this.setState({\n          LandInstance: instance,\n          web3: web3,\n          account: accounts[0]\n        });\n        var buyer_verify = await this.state.LandInstance.methods.isVerified(currentAddress).call();\n        this.setState({\n          verified: buyer_verify\n        });\n        var not_verify = await this.state.LandInstance.methods.isRejected(currentAddress).call();\n\n        if (buyer_verify) {\n          verification.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"verified\",\n            children: [\"Verified \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-user-check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 27\n          }, this));\n        } else if (not_verify) {\n          verification.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"rejected\",\n            children: [\"Rejected \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-user-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 27\n          }, this));\n        } else {\n          verification.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"unknown\",\n            children: [\"Not Yet Verified \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-user-cog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 27\n          }, this));\n        }\n\n        buyer = await this.state.LandInstance.methods.getBuyerDetails(currentAddress).call();\n        console.log(buyer);\n        console.log(buyer[0]);\n        buyerTable.push( /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Your Wallet Address: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: currentAddress\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: buyer[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: buyer[5]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Email Address \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: buyer[4]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"City\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: buyer[1]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Aadhar Card Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: buyer[6]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pan Card Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  disabled: true,\n                  type: \"text\",\n                  value: buyer[2]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Your ID Document\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"post-meta\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    class: \"timestamp\",\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: `https://ipfs.io${buyer[3]}`,\n                      target: \"_blank\",\n                      rel: \"noreferrer\",\n                      children: \"Here\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 63\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true));\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n        console.error(error);\n      }\n    };\n\n    this.state = {\n      LandInstance: undefined,\n      account: null,\n      web3: null,\n      buyers: 0,\n      sellers: 0,\n      verified: ''\n    };\n  }\n\n  render() {\n    if (!this.state.web3) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(DrizzleProvider, {\n        options: drizzleOptions,\n        children: /*#__PURE__*/_jsxDEV(LoadingContainer, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"8\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"title\",\n                    children: \"Buyer Profile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"title\",\n                    children: verification\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n                  children: [/*#__PURE__*/_jsxDEV(Form, {\n                    children: buyerTable\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    href: \"/admin/updateBuyer\",\n                    className: \"btn-fill\",\n                    disabled: !this.state.verified,\n                    color: \"primary\",\n                    children: \"Edit Profile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(CardFooter, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default buyerProfile;","map":{"version":3,"sources":["D:/BE COMP SS/Final Year Project/5/land2/land2/client/src/views/buyerProfile.js"],"names":["LoadingContainer","DrizzleProvider","React","Component","Spinner","Button","Card","CardBody","CardFooter","CardHeader","Col","Form","FormGroup","Input","Row","Land","getWeb3","drizzleOptions","contracts","buyer","buyerTable","verification","buyerProfile","constructor","props","componentDidMount","window","location","hash","reload","web3","accounts","eth","getAccounts","currentAddress","currentProvider","selectedAddress","console","log","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","setState","LandInstance","account","buyer_verify","state","methods","isVerified","call","verified","not_verify","isRejected","push","getBuyerDetails","error","alert","undefined","buyers","sellers","render"],"mappings":"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","sourcesContent":["import {\r\n  LoadingContainer\r\n} from '@drizzle/react-components';\r\nimport { DrizzleProvider } from '@drizzle/react-plugin';\r\nimport React, { Component } from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport {\r\n  Button,\r\n  Card, CardBody,\r\n  CardFooter, CardHeader, Col, Form, FormGroup, Input,\r\n  Row\r\n} from \"reactstrap\";\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport Land from \"../artifacts/Land.json\";\r\nimport getWeb3 from \"../getWeb3\";\r\nimport \"../index.css\";\r\n\r\n\r\nconst drizzleOptions = {\r\n  contracts: [Land]\r\n}\r\n\r\nvar buyer;\r\nvar buyerTable = [];\r\nvar verification = [];\r\n\r\nclass buyerProfile extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      LandInstance: undefined,\r\n      account: null,\r\n      web3: null,\r\n      buyers: 0,\r\n      sellers: 0,\r\n      verified: '',\r\n    }\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    //For refreshing page only once\r\n    if (!window.location.hash) {\r\n      window.location = window.location + '#loaded';\r\n      window.location.reload();\r\n    }\r\n\r\n    try {\r\n      //Get network provider and web3 instance\r\n      const web3 = await getWeb3();\r\n\r\n      const accounts = await web3.eth.getAccounts();\r\n\r\n      const currentAddress = await web3.currentProvider.selectedAddress;\r\n      console.log(currentAddress);\r\n      const networkId = await web3.eth.net.getId();\r\n      const deployedNetwork = Land.networks[networkId];\r\n      const instance = new web3.eth.Contract(\r\n        Land.abi,\r\n        deployedNetwork && deployedNetwork.address,\r\n      );\r\n\r\n      this.setState({ LandInstance: instance, web3: web3, account: accounts[0] });\r\n\r\n      var buyer_verify = await this.state.LandInstance.methods.isVerified(currentAddress).call();\r\n      this.setState({ verified: buyer_verify });\r\n      var not_verify = await this.state.LandInstance.methods.isRejected(currentAddress).call();\r\n      if (buyer_verify) {\r\n        verification.push(<p id=\"verified\">Verified <i class=\"fas fa-user-check\"></i></p>);\r\n      } else if (not_verify) {\r\n        verification.push(<p id=\"rejected\">Rejected <i class=\"fas fa-user-times\"></i></p>);\r\n      } else {\r\n        verification.push(<p id=\"unknown\">Not Yet Verified <i class=\"fas fa-user-cog\"></i></p>);\r\n      }\r\n\r\n      buyer = await this.state.LandInstance.methods.getBuyerDetails(currentAddress).call();\r\n      console.log(buyer);\r\n      console.log(buyer[0]);\r\n\r\n      buyerTable.push(<>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Your Wallet Address: </label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={currentAddress}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Name</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={buyer[0]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Age</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={buyer[5]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Email Address </label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={buyer[4]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>City</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={buyer[1]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Aadhar Card Number</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={buyer[6]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Pan Card Number</label>\r\n              <Input\r\n                disabled\r\n                type=\"text\"\r\n                value={buyer[2]}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <label>Your ID Document</label>\r\n              <div class=\"post-meta\"><span class=\"timestamp\"> <a href={`https://ipfs.io${buyer[3]}`} target=\"_blank\" rel=\"noreferrer\">Here</a></span></div>\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n      </>);\r\n\r\n    } catch (error) {\r\n      // Catch any errors for any of the above operations.\r\n      alert(\r\n        `Failed to load web3, accounts, or contract. Check console for details.`,\r\n      );\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.web3) {\r\n      return (\r\n        <div>\r\n          <div>\r\n            <h1>\r\n              <Spinner animation=\"border\" variant=\"primary\" />\r\n            </h1>\r\n          </div>\r\n\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <DrizzleProvider options={drizzleOptions}>\r\n          <LoadingContainer>\r\n            <Row>\r\n              <Col md=\"8\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <h5 className=\"title\">Buyer Profile</h5>\r\n                    <h5 className=\"title\">{verification}</h5>\r\n\r\n                  </CardHeader>\r\n                  <CardBody>\r\n                    <Form>\r\n                      {buyerTable}\r\n                    </Form>\r\n                    <Button href=\"/admin/updateBuyer\" className=\"btn-fill\" disabled={!this.state.verified} color=\"primary\">\r\n                      Edit Profile\r\n                    </Button>\r\n                  </CardBody>\r\n                  <CardFooter>\r\n\r\n                  </CardFooter>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </LoadingContainer>\r\n        </DrizzleProvider>\r\n      </div>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nexport default buyerProfile;"]},"metadata":{},"sourceType":"module"}