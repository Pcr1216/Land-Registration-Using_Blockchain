{"ast":null,"code":"var _jsxFileName = \"D:\\\\BE COMP SS\\\\Final Year Project\\\\5\\\\land2\\\\land2\\\\client\\\\src\\\\views\\\\SellerInfo.js\";\nimport { LoadingContainer } from '@drizzle/react-components';\nimport { DrizzleProvider } from '@drizzle/react-plugin';\nimport React, { Component } from 'react';\nimport { Spinner } from 'react-bootstrap'; // reactstrap components\n\nimport { Button, Card, CardBody, CardHeader, CardTitle, Col, Row, Table } from \"reactstrap\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport Land from \"../artifacts/Land.json\";\nimport getWeb3 from \"../getWeb3\";\nimport '../index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst drizzleOptions = {\n  contracts: [Land]\n};\nvar sellersCount;\nvar sellersMap = [];\nvar sellerTable = [];\n\nclass SellerInfo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.verifySeller = item => async () => {\n      //console.log(\"Hello\");\n      //console.log(item);\n      await this.state.LandInstance.methods.verifySeller(item).send({\n        from: this.state.account,\n        gas: 2100000\n      }); //Reload\n\n      window.location.reload(false);\n    };\n\n    this.NotverifySeller = item => async () => {\n      await this.state.LandInstance.methods.rejectSeller(item).send({\n        from: this.state.account,\n        gas: 2100000\n      });\n      window.location.reload(false);\n    };\n\n    this.componentDidMount = async () => {\n      //For refreshing page only once\n      if (!window.location.hash) {\n        window.location = window.location + '#loaded';\n        window.location.reload();\n      }\n\n      try {\n        //Get network provider and web3 instance\n        const web3 = await getWeb3();\n        const accounts = await web3.eth.getAccounts();\n        const currentAddress = await web3.currentProvider.selectedAddress; //console.log(currentAddress);\n\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = Land.networks[networkId];\n        const instance = new web3.eth.Contract(Land.abi, deployedNetwork && deployedNetwork.address);\n        this.setState({\n          LandInstance: instance,\n          web3: web3,\n          account: accounts[0]\n        });\n        sellersCount = await this.state.LandInstance.methods.getSellersCount().call();\n        console.log(sellersCount);\n        sellersMap = await this.state.LandInstance.methods.getSeller().call();\n        var verified = await this.state.LandInstance.methods.isLandInspector(currentAddress).call(); //console.log(verified);\n\n        this.setState({\n          verified: verified\n        });\n\n        for (let i = 0; i < sellersCount; i++) {\n          var seller = await this.state.LandInstance.methods.getSellerDetails(sellersMap[i]).call();\n          console.log(seller);\n          var seller_verify = await this.state.LandInstance.methods.isVerified(sellersMap[i]).call();\n          console.log(seller_verify);\n          seller.verified = seller_verify; //seller.push(seller_verify);\n\n          var not_verify = await this.state.LandInstance.methods.isRejected(sellersMap[i]).call();\n          console.log(not_verify);\n          sellerTable.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: i + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: sellersMap[i]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 54\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: seller[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 78\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: seller[1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 98\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: seller[2]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 118\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: seller[3]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 138\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: seller[4]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 158\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `https://ipfs.io/${seller[5]}`,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                children: \"Click Here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 182\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 178\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: seller.verified.toString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.verifySeller(sellersMap[i]),\n                disabled: seller_verify || not_verify,\n                className: \"button-vote\",\n                children: \"Verify\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.NotverifySeller(sellersMap[i]),\n                disabled: seller_verify || not_verify,\n                className: \"btn btn-danger\",\n                children: \"Reject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 34\n          }, this));\n          console.log(seller[5]);\n        }\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n        console.error(error);\n      }\n    };\n\n    this.state = {\n      LandInstance: undefined,\n      account: null,\n      web3: null,\n      sellers: 0,\n      verified: '',\n      not_verified: ''\n    };\n  }\n\n  render() {\n    if (!this.state.web3) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this);\n    }\n\n    if (!this.state.verified) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"6\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"card-chart\",\n                children: /*#__PURE__*/_jsxDEV(CardBody, {\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: \"You are not verified to view this page\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(DrizzleProvider, {\n      options: drizzleOptions,\n      children: /*#__PURE__*/_jsxDEV(LoadingContainer, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"12\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                    tag: \"h4\",\n                    children: \"Sellers Info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n                  children: /*#__PURE__*/_jsxDEV(Table, {\n                    sclassName: \"tablesorter\",\n                    responsive: true,\n                    color: \"black\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      className: \"text-primary\",\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"#\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 197,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Account Address\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 198,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Name\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 199,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Age\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 200,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Aadhar Card Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 201,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Pan Card Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 202,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Owned Lands\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 203,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"ID Card Document\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 204,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Verification Status\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 205,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Verify Seller\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 206,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Reject Seller\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 207,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: sellerTable\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SellerInfo;","map":{"version":3,"sources":["D:/BE COMP SS/Final Year Project/5/land2/land2/client/src/views/SellerInfo.js"],"names":["LoadingContainer","DrizzleProvider","React","Component","Spinner","Button","Card","CardBody","CardHeader","CardTitle","Col","Row","Table","Land","getWeb3","drizzleOptions","contracts","sellersCount","sellersMap","sellerTable","SellerInfo","constructor","props","verifySeller","item","state","LandInstance","methods","send","from","account","gas","window","location","reload","NotverifySeller","rejectSeller","componentDidMount","hash","web3","accounts","eth","getAccounts","currentAddress","currentProvider","selectedAddress","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","setState","getSellersCount","call","console","log","getSeller","verified","isLandInspector","i","seller","getSellerDetails","seller_verify","isVerified","not_verify","isRejected","push","toString","error","alert","undefined","sellers","not_verified","render"],"mappings":"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","sourcesContent":["import {\r\n    LoadingContainer\r\n} from '@drizzle/react-components';\r\nimport { DrizzleProvider } from '@drizzle/react-plugin';\r\nimport React, { Component } from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n// reactstrap components\r\nimport {\r\n    Button, Card, CardBody, CardHeader, CardTitle, Col, Row, Table\r\n} from \"reactstrap\";\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport Land from \"../artifacts/Land.json\";\r\nimport getWeb3 from \"../getWeb3\";\r\nimport '../index.css';\r\n\r\n\r\nconst drizzleOptions = {\r\n    contracts: [Land]\r\n}\r\n\r\n\r\nvar sellersCount;\r\nvar sellersMap = [];\r\nvar sellerTable = [];\r\n\r\nclass SellerInfo extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            LandInstance: undefined,\r\n            account: null,\r\n            web3: null,\r\n            sellers: 0,\r\n            verified: '',\r\n            not_verified: '',\r\n        }\r\n    }\r\n\r\n    verifySeller = (item) => async () => {\r\n        //console.log(\"Hello\");\r\n        //console.log(item);\r\n\r\n        await this.state.LandInstance.methods.verifySeller(\r\n            item\r\n        ).send({\r\n            from: this.state.account,\r\n            gas: 2100000\r\n        });\r\n\r\n        //Reload\r\n        window.location.reload(false);\r\n\r\n    }\r\n\r\n    NotverifySeller = (item) => async () => {\r\n\r\n        await this.state.LandInstance.methods.rejectSeller(\r\n            item\r\n        ).send({\r\n            from: this.state.account,\r\n            gas: 2100000\r\n        });\r\n\r\n        window.location.reload(false);\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        //For refreshing page only once\r\n        if (!window.location.hash) {\r\n            window.location = window.location + '#loaded';\r\n            window.location.reload();\r\n        }\r\n\r\n        try {\r\n            //Get network provider and web3 instance\r\n            const web3 = await getWeb3();\r\n\r\n            const accounts = await web3.eth.getAccounts();\r\n\r\n            const currentAddress = await web3.currentProvider.selectedAddress;\r\n            //console.log(currentAddress);\r\n            const networkId = await web3.eth.net.getId();\r\n            const deployedNetwork = Land.networks[networkId];\r\n            const instance = new web3.eth.Contract(\r\n                Land.abi,\r\n                deployedNetwork && deployedNetwork.address,\r\n            );\r\n\r\n            this.setState({ LandInstance: instance, web3: web3, account: accounts[0] });\r\n\r\n\r\n            sellersCount = await this.state.LandInstance.methods.getSellersCount().call();\r\n            console.log(sellersCount);\r\n\r\n\r\n\r\n            sellersMap = await this.state.LandInstance.methods.getSeller().call();\r\n\r\n            var verified = await this.state.LandInstance.methods.isLandInspector(currentAddress).call();\r\n            //console.log(verified);\r\n            this.setState({ verified: verified });\r\n\r\n\r\n            for (let i = 0; i < sellersCount; i++) {\r\n                var seller = await this.state.LandInstance.methods.getSellerDetails(sellersMap[i]).call();\r\n                console.log(seller);\r\n                var seller_verify = await this.state.LandInstance.methods.isVerified(sellersMap[i]).call();\r\n                console.log(seller_verify);\r\n                seller.verified = seller_verify;\r\n\r\n                //seller.push(seller_verify);\r\n                var not_verify = await this.state.LandInstance.methods.isRejected(sellersMap[i]).call();\r\n                console.log(not_verify);\r\n\r\n\r\n\r\n                sellerTable.push(<tr><td>{i + 1}</td><td>{sellersMap[i]}</td><td>{seller[0]}</td><td>{seller[1]}</td><td>{seller[2]}</td><td>{seller[3]}</td><td>{seller[4]}</td><td><a href={`https://ipfs.io/${seller[5]}`} target=\"_blank\" rel=\"noreferrer\">Click Here</a></td>\r\n                    <td>{seller.verified.toString()}</td>\r\n                    <td>\r\n                        <Button onClick={this.verifySeller(sellersMap[i])} disabled={seller_verify || not_verify} className=\"button-vote\">\r\n                            Verify\r\n                        </Button>\r\n                    </td>\r\n                    <td>\r\n                        <Button onClick={this.NotverifySeller(sellersMap[i])} disabled={seller_verify || not_verify} className=\"btn btn-danger\">\r\n                            Reject\r\n                        </Button>\r\n                    </td></tr>)\r\n                console.log(seller[5]);\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n        } catch (error) {\r\n            // Catch any errors for any of the above operations.\r\n            alert(\r\n                `Failed to load web3, accounts, or contract. Check console for details.`,\r\n            );\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    render() {\r\n        if (!this.state.web3) {\r\n            return (\r\n                <div>\r\n                    <div>\r\n                        <h1>\r\n                            <Spinner animation=\"border\" variant=\"primary\" />\r\n                        </h1>\r\n                    </div>\r\n\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (!this.state.verified) {\r\n            return (\r\n                <div className=\"content\">\r\n                    <div>\r\n                        <Row>\r\n                            <Col xs=\"6\">\r\n                                <Card className=\"card-chart\">\r\n                                    <CardBody>\r\n                                        <h1>\r\n                                            You are not verified to view this page\r\n                                        </h1>\r\n                                    </CardBody>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <DrizzleProvider options={drizzleOptions}>\r\n                <LoadingContainer>\r\n                    <div className=\"content\">\r\n                        <Row>\r\n                            <Col xs=\"12\">\r\n                                <Card>\r\n                                    <CardHeader>\r\n                                        <CardTitle tag=\"h4\">Sellers Info</CardTitle>\r\n                                    </CardHeader>\r\n                                    <CardBody>\r\n                                        <Table sclassName=\"tablesorter\" responsive color=\"black\">\r\n                                            <thead className=\"text-primary\">\r\n                                                <tr>\r\n                                                    <th>#</th>\r\n                                                    <th>Account Address</th>\r\n                                                    <th>Name</th>\r\n                                                    <th>Age</th>\r\n                                                    <th>Aadhar Card Number</th>\r\n                                                    <th>Pan Card Number</th>\r\n                                                    <th>Owned Lands</th>\r\n                                                    <th>ID Card Document</th>\r\n                                                    <th>Verification Status</th>\r\n                                                    <th>Verify Seller</th>\r\n                                                    <th>Reject Seller</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {sellerTable}\r\n                                            </tbody>\r\n\r\n                                        </Table>\r\n                                    </CardBody>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n\r\n\r\n                    </div>\r\n                </LoadingContainer>\r\n            </DrizzleProvider>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default SellerInfo;\r\n"]},"metadata":{},"sourceType":"module"}